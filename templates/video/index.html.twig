{% extends 'base.html.twig' %}

{% block title %}Best Youtube Video !
{% endblock %}

{% block body %}
 {% include "components/_search_data.html.twig" with {
                form: form
               }
               only %}

        <div class = "container text-center">
    <div class = "row">
         {% for video in pagination %}
         <article class = "col-4">
            <h3><a href={{ path('app_video_show', {id: video.id}) }}>{{ video.title|u.truncate(30,'...',false) }}</a></h3>
             <iframe width="300" height="200" src={{video.videoLink}}></iframe>
            <h5>{{ video.description|u.truncate(15,'...',false) }}</h5>
            <p>Submitted {{ video.createdAt|ago }}
            <p>Derni√®re Modification: {{ video.updatedAt|date("d/m/y H:i") }}</p>
            <p>By {{ video.user.firstname ~ ' ' ~ video.user.lastname }}
            {% if app.user %}
            {% if app.user.isVerified %}
            <a href="{{ path('app_video_show', {'id': video.id}) }}">Afficher</a>

            <a href="{{ path('app_video_edit', {'id': video.id}) }}">Editer</a>
            {% endif %}
            {% endif %}

            </article>

                    
              {% endfor %}
	</div>
    </div>
    

    <div class="mb-5 mt-5" id="addvideo">
         <a class="btn btn-primary" href="{{ path('app_video_new') }}">Create new</a>
    </div>
      {{ knp_pagination_render(pagination, null, {}, {
   'align': 'center',
   'size': 'large',
   'rounded': true,
}) }}
{% endblock %}
